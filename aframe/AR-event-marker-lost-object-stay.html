<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width">
    <title>AR.js: Marker Event Detection</title>
    <script src="./library/aframe.min.js"></script>
    <script src="./library/aframe-ar.min.js"></script>
</head>

<body style='margin : 0px; overflow: hidden;'>
    <a-scene embedded vr-mode-ui="enabled: false"
        arjs='detectionMode: mono_and_matrix; matrixCodeType: 3x3; debugUIEnabled: false;'>

        <!-- add a simple camera -->
        <a-entity camera></a-entity>

        <!-- handle hiro marker -->
        <a-marker preset='hiro'></a-marker>
    </a-scene>
    <script>
        // a-scene
        var scene = document.querySelector("a-scene");

        // a-marker
        var m = document.querySelector("a-marker");

        // Create object bola
        function bola(zaxis) {
            // if bola exist, remove
            if (document.querySelector("a-sphere")) {
                let bol = document.querySelector("a-sphere");
                bol.parentNode.removeChild(bol);
            }
            // template literal to create object, z axis for marker = 0, for scene = -5
            var bola = `<a-sphere position="0 0 ${zaxis}" color="red" radius="0.5"></a-sphere>`;
            return bola;
        }

        m.addEventListener("markerFound", (e) => {
            m.insertAdjacentHTML('beforeend', bola(0));
        });

        m.addEventListener("markerLost", (e) => {
            scene.insertAdjacentHTML('beforeend', bola(-5));
        });
    </script>
</body>

</html>